<Project Sdk="Microsoft.NET.Sdk">

    <PropertyGroup>
      <TargetFramework>netstandard2.0</TargetFramework>
      <IsPackable>true</IsPackable>
      <Version>1.0.0</Version>
      <CodeAnalysisRuleSet>..\Analysis.ruleset</CodeAnalysisRuleSet>
      <GenerateDocumentationFile>true</GenerateDocumentationFile>
      <Configurations>Debug;Release;DebugLocal</Configurations>
      <Platforms>AnyCPU</Platforms>
    </PropertyGroup>

    <Choose> 
      <When Condition="'$(Configuration)' == 'DebugLocal'"> 
        <ItemGroup>
          <Reference Include="ZES.Interfaces">
            <HintPath>../../ZES/ZES.Interfaces/bin/Debug/netstandard2.0/ZES.Interfaces.dll</HintPath>
          </Reference>
          <Reference Include="ZES.Infrastructure">
            <HintPath>../../ZES/ZES.Infrastructure/bin/Debug/netstandard2.0/ZES.Infrastructure.dll</HintPath>
          </Reference>
          <Reference Include="ZES">
            <HintPath>../../ZES/ZES/bin/Debug/netstandard2.0/ZES.dll</HintPath> 
          </Reference>
          <PackageReference Include="SimpleInjector" Version="4.4.2" />
          <PackageReference Include="Stateless" Version="3.0.0" />
          <PackageReference Include="QuickGraph.NETStandard" Version="3.8.0" />
        </ItemGroup> 
      </When> 
      <Otherwise> 
        <ItemGroup>
          <PackageReference Include="ZES" Version="1.0.479" />
        </ItemGroup> 
      </Otherwise> 
    </Choose>
    
    <ItemGroup>
      <None Update="Commands\RegisterHashflare.tt">
        <Generator>TextTemplatingFileGenerator</Generator>
        <LastGenOutput>RegisterHashflare.cs</LastGenOutput>
      </None>
      <None Update="Commands\RegisterHashflareHandler.tt">
        <Generator>TextTemplatingFileGenerator</Generator>
        <LastGenOutput>RegisterHashflareHandler.cs</LastGenOutput>
      </None>
      <None Update="Commands\ExpireContract.tt">
        <Generator>TextTemplatingFileGenerator</Generator>
        <LastGenOutput>ExpireContract.cs</LastGenOutput>
      </None>
      <None Update="Commands\CreateContract.tt">
        <Generator>TextTemplatingFileGenerator</Generator>
        <LastGenOutput>CreateContract.cs</LastGenOutput>
      </None>
      <None Update="Commands\CreateContractHandler.tt">
        <Generator>TextTemplatingFileGenerator</Generator>
        <LastGenOutput>CreateContractHandler.cs</LastGenOutput>
      </None>
      <None Update="Commands\ExpireContractHandler.tt">
        <Generator>TextTemplatingFileGenerator</Generator>
        <LastGenOutput>ExpireContractHandler.cs</LastGenOutput>
        <DependentUpon>ExpireContractHashflare.tt</DependentUpon>
      </None>
      <None Update="Commands\AddMinedToHashflare.tt">
        <Generator>TextTemplatingFileGenerator</Generator>
        <LastGenOutput>AddMinedToHashflare.cs</LastGenOutput>
      </None>
      <None Update="Commands\AddMinedToHashflareHandler.tt">
        <Generator>TextTemplatingFileGenerator</Generator>
        <LastGenOutput>AddMinedToHashflareHandler.cs</LastGenOutput>
        <DependentUpon>AddMinedToHashflare.tt</DependentUpon>
      </None>
      <None Update="Commands\AddMinedToContract.tt">
        <Generator>TextTemplatingFileGenerator</Generator>
        <LastGenOutput>AddMinedToContract.cs</LastGenOutput>
      </None>
      <None Update="Commands\AddMinedToContractHandler.tt">
        <Generator>TextTemplatingFileGenerator</Generator>
        <LastGenOutput>AddMinedToContractHandler.cs</LastGenOutput>
        <DependentUpon>AddMinedToContract.tt</DependentUpon>
      </None>
    </ItemGroup>

    <ItemGroup>
      <Compile Update="Commands\RegisterHashflare.cs">
        <DependentUpon>RegisterHashflare.tt</DependentUpon>
      </Compile>
      <Compile Update="Commands\RegisterHashflareHandler.cs">
        <DependentUpon>RegisterHashflareHandler.tt</DependentUpon>
      </Compile>
      <Compile Update="Commands\ExpireContract.cs">
        <DependentUpon>ExpireContract.tt</DependentUpon>
      </Compile>
      <Compile Update="Commands\CreateContract.cs">
        <DependentUpon>CreateContract.tt</DependentUpon>
      </Compile>
      <Compile Update="Commands\CreateContractHandler.cs">
        <DependentUpon>CreateContractHandler.tt</DependentUpon>
      </Compile>
      <Compile Update="Commands\ExpireContractHandler.cs">
        <DependentUpon>ExpireContractHandler.tt</DependentUpon>
      </Compile>
      <Compile Update="Commands\AddMinedToHashflare.cs">
        <DependentUpon>AddMinedToHashflare.tt</DependentUpon>
      </Compile>
      <Compile Update="Commands\AddMinedToHashflareHandler.cs">
        <DependentUpon>AddMinedToHashflareHandler.tt</DependentUpon>
      </Compile>
      <Compile Update="Commands\AddMinedToContract.cs">
        <DependentUpon>AddMinedToContract.tt</DependentUpon>
      </Compile>
      <Compile Update="Commands\AddMinedToContractHandler.cs">
        <DependentUpon>AddMinedToContractHandler.tt</DependentUpon>
      </Compile>
    </ItemGroup>

</Project>
